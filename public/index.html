<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gola Playground</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background: #1a1a2e;
      color: #e0e0e0;
      min-height: 100vh;
      padding: 0;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
 
    /* Hero Section */
    .hero-section {
      text-align: center;
      padding: 60px 0 40px;
      border-bottom: 1px solid #333;
    }

    .hero-section h1 {
      font-size: 4rem;
      font-weight: 800;
      color: #feca57;
      margin-bottom: 15px;
      letter-spacing: -0.02em;
    }

    .tagline {
      font-size: 1.3rem;
      color: #b0b0b0;
      margin-bottom: 30px;
      font-weight: 400;
    }

    .install-command {
      background: #0f0f23;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 15px 20px;
      margin: 30px auto;
      max-width: 800px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    }

    .install-command code {
      color: #feca57;
      font-size: 14px;
      word-break: break-all;
    }

    .nav-links {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 40px;
    }

    .nav-link {
      color: #b0b0b0;
      text-decoration: none;
      font-weight: 500;
      padding: 10px 0;
      border-bottom: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .nav-link:hover,
    .nav-link.active {
      color: #feca57;
      border-bottom-color: #feca57;
    }

    /* Sections */
    .section {
      padding: 60px 0;
      border-bottom: 1px solid #333;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #feca57;
      margin-bottom: 40px;
      text-align: center;
    }

    /* Playground */
    .playground-container {
      max-width: 1000px;
      margin: 0 auto;
    }

    .playground-controls {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      justify-content: center;
    }

    .playground-content {
      display: flex;
      flex-direction: column;
      gap: 20px;
      min-height: 400px;
    }

    .editor-container,
    .output-container {
      background: #0f0f23;
      border: 1px solid #333;
      border-radius: 8px;
      overflow: hidden;
    }

    .code-editor {
      width: 100%;
      height: 400px;
      background: transparent;
      color: #e0e0e0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 14px;
      line-height: 1.5;
      border: none;
      padding: 20px;
      resize: none;
      outline: none;
    }

    .code-editor::placeholder {
      color: #666;
      font-style: italic;
    }

    .btn {
      padding: 10px 20px;
      border: 1px solid #333;
      border-radius: 6px;
      background: #2a2a3e;
      color: #e0e0e0;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-primary {
      background: #feca57;
      color: #1a1a2e;
      border-color: #feca57;
      font-weight: 600;
    }

    .btn-primary:hover {
      background: #e6b84f;
      border-color: #e6b84f;
    }

    .btn-secondary:hover {
      background: #3a3a4e;
      border-color: #555;
    }

    .output {
      background: transparent;
      color: #e0e0e0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 14px;
      line-height: 1.5;
      padding: 20px;
      height: 400px;
      overflow-y: auto;
      white-space: pre-wrap;
      border: none;
    }

    .output.success {
      color: #2ed573;
    }

    .output.error {
      color: #ff6b6b;
    }

    .output.running {
      color: #feca57;
    }

    /* Documentation */
    .doc-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .doc-intro {
      font-size: 1.1rem;
      color: #b0b0b0;
      margin-bottom: 50px;
      text-align: center;
      line-height: 1.7;
    }

    .doc-section {
      margin-bottom: 50px;
    }

    .doc-section h3 {
      font-size: 1.8rem;
      color: #feca57;
      margin-bottom: 25px;
      font-weight: 600;
    }

    .install-steps .step:not(:last-child) {
      margin-bottom: 30px;
    }

    .step {
      margin-bottom: 30px;
    }

    .step h4 {
      font-size: 1.2rem;
      color: #e0e0e0;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .code-block {
      background: #0f0f23;
      border: 1px solid #333;
      border-radius: 6px;
      padding: 15px;
      margin-bottom: 15px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    }

    .code-header {
      color: #b0b0b0;
      font-size: 12px;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .code-block code {
      color: #feca57;
      font-size: 14px;
      line-height: 1.4;
    }

    .syntax-item {
      margin-bottom: 35px;
      padding-bottom: 25px;
      border-bottom: 1px solid #333;
    }

    .syntax-item:last-child {
      border-bottom: none;
    }

    .syntax-item h4 {
      font-size: 1.3rem;
      color: #e0e0e0;
      margin-bottom: 10px;
      font-weight: 600;
    }

    .syntax-item p {
      color: #b0b0b0;
      margin-bottom: 8px;
      line-height: 1.6;
    }

    .syntax-item code {
      background: #2a2a3e;
      color: #feca57;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 13px;
    }

    .example {
      margin-top: 15px;
    }

    .example-code {
      background: #0f0f23;
      border: 1px solid #333;
      border-radius: 6px;
      padding: 15px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 14px;
      color: #e0e0e0;
      line-height: 1.4;
    }

    .large-example {
      background: #0f0f23;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
    }

    .example-output {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid #333;
      color: #b0b0b0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 13px;
      line-height: 1.5;
    }

    .footer {
      text-align: center;
      padding: 40px 0;
      color: #666;
      font-size: 14px;
    }

    .footer a {
      color: #feca57;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .footer a:hover {
      color: #e6b84f;
    }

    @media (max-width: 768px) {
      .container {
        padding: 0 15px;
      }
      
      .hero-section h1 {
        font-size: 2.5rem;
      }
      
      .tagline {
        font-size: 1.1rem;
      }
      
      .install-command {
        padding: 12px 15px;
      }
      
      .install-command code {
        font-size: 12px;
      }
      
      .nav-links {
        flex-direction: column;
        gap: 15px;
      }
      
      .section {
        padding: 40px 0;
      }
      
      .section-title {
        font-size: 2rem;
      }
      
      .playground-content {
        gap: 15px;
      }
      
      .code-editor,
      .output {
        height: 300px;
        font-size: 13px;
      }
      
      .playground-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .btn {
        width: 200px;
      }
      
      .doc-section h3 {
        font-size: 1.5rem;
      }
      
      .syntax-item h4 {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Hero Section -->
    <header class="hero-section">
      <h1>ðŸŸ¡ Gola</h1>
      <p class="tagline">A cute programming language written in Go</p>
      <div class="install-command">
        <code>curl -L -o gola-darwin-x86_64.tar.gz https://github.com/felixoder/gola-language/releases/download/v2.0.1/gola-darwin-x86_64.tar.gz</code>
      </div>
      <nav class="nav-links">
        <a href="#playground" class="nav-link active">Playground</a>
        <a href="#documentation" class="nav-link">Documentation</a>
        <a href="https://github.com/felixoder/gola-language" target="_blank" class="nav-link">View Source</a>
      </nav>
    </header>

    <!-- Playground Section -->
    <section id="playground" class="section">
      <h2 class="section-title">Playground</h2>
      
      <div class="playground-container">
        <div class="playground-controls">
          <button class="btn btn-primary" onclick="runCode()">Run</button>
          <button class="btn btn-secondary" onclick="clearCode()">Clear</button>
        </div>
        
        <div class="playground-content">
          <div class="editor-container">
            <textarea 
              id="code" 
              class="code-editor"
              placeholder="kemon achis &quot;Hello, Gola!&quot;"
            >kemon achis "hello world"</textarea>
          </div>
          
          <div class="output-container">
            <pre id="output" class="output">Shandaar bhai ðŸŽ‰</pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Documentation Section -->
    <section id="documentation" class="section">
      <h2 class="section-title">Documentation</h2>
      
      <div class="doc-content">
        <p class="doc-intro">
          Gola is a lightweight and fun programming language inspired by simplicity and Bengali expressions. 
          This documentation provides an overview of its syntax, usage, and functionality.
        </p>

        <!-- Installation -->
        <div class="doc-section">
          <h3>Installation</h3>
          <div class="install-steps">
            <div class="step">
              <h4>Step 1: Download the Gola Compiler</h4>
              <div class="code-block">
                <div class="code-header">For macOS (x86_64)</div>
                <code>curl -L -o gola-darwin-x86_64.tar.gz https://github.com/felixoder/gola-language/releases/download/v2.0.1/gola-darwin-x86_64.tar.gz</code>
              </div>
              <div class="code-block">
                <div class="code-header">For Linux (x86_64)</div>
                <code>curl -L -o gola-linux-x86_64.tar.gz https://github.com/felixoder/gola-language/releases/download/v2.0.1/gola-linux-x86_64.tar.gz</code>
              </div>
            </div>
            
            <div class="step">
              <h4>Step 2: Extract the Files</h4>
              <div class="code-block">
                <code>tar -xvzf gola-darwin-x86_64.tar.gz</code>
              </div>
            </div>
            
            <div class="step">
              <h4>Step 3: Install Gola</h4>
              <div class="code-block">
                <code>sudo mv ./gola /usr/local/bin/gola<br>sudo chmod +x /usr/local/bin/gola</code>
              </div>
            </div>
            
            <div class="step">
              <h4>Step 4: Verify Installation</h4>
              <div class="code-block">
                <code>gola -v</code>
              </div>
            </div>
          </div>
        </div>

        <!-- Syntax -->
        <div class="doc-section">
          <h3>Syntax</h3>
          
          <div class="syntax-item">
            <h4>Print Statements</h4>
            <p><strong>Command:</strong> <code>kemon achis "&lt;message&gt;"</code></p>
            <p><strong>Description:</strong> Prints the specified message to the console.</p>
            <div class="example">
              <div class="example-code">kemon achis "Hello, world!"</div>
            </div>
          </div>

          <div class="syntax-item">
            <h4>Variable Input</h4>
            <p><strong>Command:</strong> <code>bol bhai &lt;variable&gt;</code></p>
            <p><strong>Description:</strong> Prompts the user to input a value for the specified variable.</p>
            <div class="example">
              <div class="example-code">bol bhai x</div>
            </div>
          </div>

          <div class="syntax-item">
            <h4>Variable Assignment</h4>
            <p><strong>Command:</strong> <code>&lt;variable&gt; = &lt;expression&gt;</code></p>
            <p><strong>Description:</strong> Assigns the result of an expression to a variable.</p>
            <div class="example">
              <div class="example-code">x = 10 + 5</div>
            </div>
          </div>

          <div class="syntax-item">
            <h4>Conditional Execution</h4>
            <p><strong>Command:</strong> <code>dyakh jodi &lt;condition&gt;: &lt;command&gt; ar nahole: &lt;command&gt;</code></p>
            <p><strong>Description:</strong> Executes the first command if the condition is true; otherwise, executes the second command.</p>
            <div class="example">
              <div class="example-code">dyakh jodi x > 5: kemon achis "Greater" ar nahole: kemon achis "Smaller or Equal"</div>
            </div>
          </div>

          <div class="syntax-item">
            <h4>Loop Statement</h4>
            <p><strong>Command:</strong> <code>bolte thak &lt;iterator&gt; [&lt;start&gt;] -&gt; [&lt;end&gt;] [&lt;increment&gt;] :</code></p>
            <p><strong>Description:</strong> A basic loop structure.</p>
            <div class="example">
              <div class="example-code">bolte thak i [0] -> [5] [i++] :<br>    kemon achis i</div>
            </div>
          </div>
        </div>

        <!-- Sample Code -->
        <div class="doc-section">
          <h3>Sample Code</h3>
          <div class="large-example">
            <div class="example-code">bol bhai x
y = x + 5
dyakh jodi y > 10: kemon achis "Value is greater" ar nahole: kemon achis "Value is smaller"</div>
            <div class="example-output">
              <strong>Expected Output:</strong><br>
              Enter value for x: 6<br>
              Value is greater
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <p>Â© 2025 <a href="https://github.com/felixoder" target="_blank">felixoder</a></p>
      <p>Made by <a href="https://github.com/felixoder" target="_blank">@felixoder</a></p>
    </footer>
  </div>

  <script>
    let isRunning = false;

    async function runCode() {
      if (isRunning) return;
      
      const code = document.getElementById("code").value.trim();
      const outputElement = document.getElementById("output");
      
      if (!code) {
        outputElement.textContent = "Please write some Gola code first!";
        outputElement.className = "output error";
        return;
      }

      isRunning = true;
      outputElement.textContent = "Running...";
      outputElement.className = "output running";
      
      const runButton = document.querySelector('.btn-primary');
      runButton.textContent = "Running...";
      runButton.disabled = true;

      try {
        const res = await fetch("/run", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ code }),
        });
        
        const data = await res.json();
        
        if (data.output) {
          outputElement.textContent = data.output;
          outputElement.className = "output success";
        } else if (data.error) {
          outputElement.textContent = "Error: " + data.error;
          outputElement.className = "output error";
        } else {
          outputElement.textContent = "No output generated.";
          outputElement.className = "output";
        }
      } catch (err) {
        outputElement.textContent = "Connection error: " + err.message;
        outputElement.className = "output error";
      } finally {
        isRunning = false;
        runButton.textContent = "Run";
        runButton.disabled = false;
      }
    }

    function clearCode() {
      document.getElementById("code").value = "";
      const outputElement = document.getElementById("output");
      outputElement.textContent = "Shandaar bhai ðŸŽ‰";
      outputElement.className = "output";
    }

    function loadExample() {
      const exampleCode = `bol bhai x
y = x + 5
dyakh jodi y > 10: kemon achis "Value is greater" ar nahole: kemon achis "Value is smaller"`;
      
      document.getElementById("code").value = exampleCode;
      const outputElement = document.getElementById("output");
      outputElement.textContent = "Example loaded! Click 'Run' to execute.";
      outputElement.className = "output";
    }

    // Add keyboard shortcut for running code (Ctrl+Enter or Cmd+Enter)
    document.getElementById("code").addEventListener("keydown", function(e) {
      if ((e.ctrlKey || e.metaKey) && e.key === "Enter") {
        e.preventDefault();
        runCode();
      }
    });

    // Smooth scrolling for navigation
    document.querySelectorAll('.nav-link[href^="#"]').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
          
          // Update active nav link
          document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });

    // Update active nav on scroll
    window.addEventListener('scroll', function() {
      const sections = document.querySelectorAll('.section');
      const navLinks = document.querySelectorAll('.nav-link[href^="#"]');
      
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop - 100;
        if (window.pageYOffset >= sectionTop) {
          current = section.getAttribute('id');
        }
      });
      
      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    });
  </script>
</body>
</html>
